<view class="chat-page data-v-1cf27b2a"><view wx:if="{{a}}" class="sidebar-mask data-v-1cf27b2a" bindtap="{{b}}"></view><view wx:if="{{c}}" class="{{['sidebar', 'data-v-1cf27b2a', i && 'slideIn']}}"><view class="sidebar-header data-v-1cf27b2a"><text class="sidebar-title data-v-1cf27b2a">功能菜单</text><button class="close-btn data-v-1cf27b2a" bindtap="{{d}}">✕</button></view><view class="sidebar-menu data-v-1cf27b2a"><view class="menu-item data-v-1cf27b2a" bindtap="{{e}}"><text class="menu-icon data-v-1cf27b2a">🗑️</text><text class="menu-text data-v-1cf27b2a">清空聊天记录</text></view><view class="menu-item data-v-1cf27b2a" bindtap="{{f}}"><text class="menu-icon data-v-1cf27b2a">🎨</text><text class="menu-text data-v-1cf27b2a">切换主题</text></view><view class="menu-item data-v-1cf27b2a" bindtap="{{g}}"><text class="menu-icon data-v-1cf27b2a">⚙️</text><text class="menu-text data-v-1cf27b2a">设置</text></view><view class="menu-item data-v-1cf27b2a" bindtap="{{h}}"><text class="menu-icon data-v-1cf27b2a">ℹ️</text><text class="menu-text data-v-1cf27b2a">关于</text></view></view></view><view class="chat-header data-v-1cf27b2a"><button class="menu-trigger data-v-1cf27b2a" bindtap="{{j}}"><text class="hamburger data-v-1cf27b2a">☰</text></button><view class="header-content data-v-1cf27b2a"><text class="header-title data-v-1cf27b2a">聊天</text></view><view class="header-placeholder data-v-1cf27b2a"></view></view><scroll-view class="chat-container data-v-1cf27b2a" scroll-y scroll-top="{{q}}" style="{{'transform:' + r}}" bindscroll="{{s}}"><view wx:if="{{k}}" class="time-divider data-v-1cf27b2a"><text class="data-v-1cf27b2a">{{l}}</text></view><view wx:if="{{m}}" class="message-item ai-message data-v-1cf27b2a"><view class="avatar data-v-1cf27b2a"><image class="data-v-1cf27b2a" src="{{n}}" mode="widthFix"></image></view><view class="message-bubble data-v-1cf27b2a"><text class="data-v-1cf27b2a">你好！我是你的助手，有什么可以帮助你的吗？</text></view></view><view wx:for="{{o}}" wx:for-item="msg" wx:key="h" class="{{['data-v-1cf27b2a', 'message-item', msg.i]}}"><view class="avatar data-v-1cf27b2a"><image class="data-v-1cf27b2a" src="{{msg.a}}" mode="widthFix"></image></view><view class="{{['message-bubble', 'data-v-1cf27b2a', msg.f && 'voice']}}" bindtap="{{msg.g}}"><block wx:if="{{msg.b}}"><view class="voice-content data-v-1cf27b2a"><view class="{{['voice-wave', 'data-v-1cf27b2a', msg.c && 'playing']}}"><view class="wave-bar data-v-1cf27b2a"></view><view class="wave-bar data-v-1cf27b2a"></view><view class="wave-bar data-v-1cf27b2a"></view></view><text class="voice-duration data-v-1cf27b2a">{{msg.d}}"</text></view></block><block wx:else><text class="data-v-1cf27b2a">{{msg.e}}</text></block></view></view><view wx:if="{{p}}" class="loading-indicator data-v-1cf27b2a"><view class="loading-dot data-v-1cf27b2a"></view><view class="loading-dot data-v-1cf27b2a"></view><view class="loading-dot data-v-1cf27b2a"></view></view></scroll-view><view class="input-container data-v-1cf27b2a" style="{{'transform:' + O}}"><view class="input-bar data-v-1cf27b2a"><button class="switch-btn data-v-1cf27b2a" bindtap="{{v}}">{{t}}</button><view class="input-wrapper data-v-1cf27b2a"><textarea wx:if="{{w}}" class="text-input data-v-1cf27b2a" placeholder="请输入消息..." style="{{'height:' + x}}" bindinput="{{y}}" bindfocus="{{z}}" bindblur="{{A}}" bindconfirm="{{B}}" value="{{C}}"></textarea><view wx:else class="voice-input data-v-1cf27b2a" bindtouchstart="{{E}}" bindtouchend="{{F}}" bindtouchmove="{{G}}" bindtouchcancel="{{H}}"><text class="voice-hint data-v-1cf27b2a">{{D}}</text></view></view><button class="plus-btn data-v-1cf27b2a" catchtap="{{I}}"> + </button></view><view wx:if="{{J}}" class="function-buttons data-v-1cf27b2a"><view class="function-item data-v-1cf27b2a" bindtap="{{K}}"><view class="func-icon data-v-1cf27b2a">📷</view><text class="func-text data-v-1cf27b2a">相册</text></view><view class="function-item data-v-1cf27b2a" bindtap="{{L}}"><view class="func-icon data-v-1cf27b2a">📸</view><text class="func-text data-v-1cf27b2a">拍摄</text></view><view class="function-item data-v-1cf27b2a" bindtap="{{M}}"><view class="func-icon data-v-1cf27b2a">📍</view><text class="func-text data-v-1cf27b2a">位置</text></view><view class="function-item data-v-1cf27b2a" bindtap="{{N}}"><view class="func-icon data-v-1cf27b2a">⋮</view><text class="func-text data-v-1cf27b2a">更多</text></view></view></view><view wx:if="{{P}}" class="voice-recording-toast data-v-1cf27b2a"><view class="recording-icon data-v-1cf27b2a">{{Q}}</view><text class="recording-text data-v-1cf27b2a">{{R}}</text><text class="recording-time data-v-1cf27b2a">{{S}}"</text></view></view>